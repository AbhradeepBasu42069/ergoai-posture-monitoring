<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ErgoAI | {% block title %}Dashboard{% endblock %}</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Orbitron:wght@500;700;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='base.css') }}">
    {% block head %}{% endblock %}
</head>

<body>

    <aside>
        <div class="brand">ERGO<span>AI</span></div>
        <nav>
            <a href="{{ url_for('index') }}" class="nav-item {% if request.path == '/' %}active{% endif %}">
                <i class="fas fa-chart-line"></i> Dashboard
            </a>
            <a href="{{ url_for('hardware') }}" class="nav-item {% if request.path == '/hardware' %}active{% endif %}">
                <i class="fas fa-microchip"></i> Hardware Hub
            </a>
            <a href="{{ url_for('analytics') }}"
                class="nav-item {% if request.path == '/analytics' %}active{% endif %}">
                <i class="fas fa-chart-pie"></i> Analytics
            </a>
            <a href="{{ url_for('take_break') }}"
                class="nav-item {% if request.path == '/break' %}active{% endif %}">
                <i class="fas fa-spa"></i> Break & Wellness
            </a>
            <a href="{{ url_for('suggestions') }}"
                class="nav-item {% if request.path == '/suggestions' %}active{% endif %}">
                <i class="fas fa-lightbulb"></i> AI Suggestions
            </a>
        </nav>

        <div
            style="margin-top: auto; padding: 1rem; background: rgba(0,0,0,0.3); border-radius: 12px; border: 1px solid var(--border);">
            <div style="font-size: 0.8rem; color: #888;">STATUS</div>
            <div class="flex-center" style="gap: 5px; justify-content: flex-start; margin-top: 5px;">
                <div style="width: 8px; height: 8px; background: var(--success); border-radius: 50%;"></div>
                <span style="font-size: 0.9rem;">System Online</span>
            </div>
        </div>
    </aside>

    <main>
        <header>
            <div class="page-title">{% block page_title %}Overview{% endblock %}</div>
            <div class="flex-center" style="gap: 20px;">
                <div style="font-size: 0.9rem; color: var(--text-muted);"><i class="far fa-clock"></i> <span
                        id="clock">--:--</span></div>
                <div
                    style="width: 35px; height: 35px; background: #333; border-radius: 50%; display: flex; align-items: center; justify-content: center; border: 1px solid var(--border);">
                    <i class="fas fa-user"></i>
                </div>
            </div>
        </header>

        <div class="content">
            {% block content %}{% endblock %}
        </div>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <script>
        const socket = io.connect('http://' + document.domain + ':' + location.port);

        // Clock
        setInterval(() => {
            const now = new Date();
            document.getElementById('clock').innerText = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        }, 1000);
    </script>
    {% block scripts %}{% endblock %}
</body>

</html>